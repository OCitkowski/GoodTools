//<Маска> (необязательный)
//Тип: Строка. 
//Маска выбора файлов. В строке маски допускается использование символа "*" (звездочка), 
//обозначающего любое число произвольных символов, и "?" (знак вопроса), обозначающего один произвольный символ.

Процедура КопироватьСодержимоеКаталога(ПутьКаталогИсточник, ПутьКаталогПолучатель, УдалятьКаталогИсточник = Истина, Маска = "*.*") Экспорт
	
	Если ПустаяСтрока(ПутьКаталогИсточник) 
		Или ПустаяСтрока(ПутьКаталогПолучатель) 
		Или ПутьКаталогИсточник = ПутьКаталогПолучатель Тогда Возврат КонецЕсли;
	
	КаталогНазначения = Новый Файл(ПутьКаталогПолучатель);
	
	Если КаталогНазначения.Существует() Тогда
		
		Если КаталогНазначения.ЭтоФайл() Тогда
			
			УдалитьФайлы(КаталогНазначения.ПолноеИмя);
			СоздатьКаталог(ПутьКаталогПолучатель);
			
		КонецЕсли;
		
	Иначе
		
		СоздатьКаталог(ПутьКаталогПолучатель);
		
	КонецЕсли;
	
	Файлы = НайтиФайлы(ПутьКаталогИсточник, Маска);
	
	Для Каждого Файл Из Файлы Цикл
		
		Если Файл.ЭтоКаталог() Тогда
			
			Если КаталогНазначения.ПолноеИмя = Файл.ПолноеИмя Тогда Продолжить КонецЕсли; //Створеня без кінця католога в каталозі (якщо однакові імена)
			
			КопироватьСодержимоеКаталога(Файл.ПолноеИмя, ПутьКаталогПолучатель+"\"+Файл.Имя);
			
		Иначе
			
			КопироватьФайл(Файл.ПолноеИмя, ПутьКаталогПолучатель+"\"+Файл.Имя);
			
		КонецЕсли;
		
	КонецЦикла;
	
	Если УдалятьИсточник Тогда УдалитьФайлы(ПутьКаталогИсточник) КонецЕсли;

КонецПроцедуры

